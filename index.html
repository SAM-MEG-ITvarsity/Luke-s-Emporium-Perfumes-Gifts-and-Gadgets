<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Luke's Emporium â€” Shop</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    :root{ --gold:#d4af37; --bg:#faf7f6; }
    body{ background:var(--bg); color:#222; }
    .navbar-brand{ font-weight:700; }
    .text-gold{ color:var(--gold); }
    /* Floating cart button */
    .floating-cart {
      position: fixed;
      right: 20px;
      bottom: 20px;
      z-index: 1100;
    }
    .cart-btn {
      width:64px; height:64px; border-radius:50%;
      background:#000; color:var(--gold); border:3px solid rgba(212,175,55,0.12);
      display:flex; align-items:center; justify-content:center; box-shadow:0 8px 20px rgba(0,0,0,.2);
      font-size:22px;
    }
    .cart-badge{ position:absolute; top:-6px; right:-6px; }

    /* Cart page styles */
    #cartPage{ display:none; padding:2rem 1rem; }
    .cart-item{ border-radius:10px; background:#0f0404; padding:10px; border:1px solid #eee; }
    .cart-item img{ max-height:80px; object-fit:cover; border-radius:6px; }
    .checkout-panel{ background:#fffaf5; border-left:5px solid var(--gold); padding:16px; border-radius:8px; }

    /* Product grid */
    .product-card{ background:#fff; border-radius:12px; padding:8px; border:1px solid #eee; }
    .product-card img{ max-height:180px; object-fit:cover; border-radius:8px; }

    /* small screens cart open covers content */
    @media (max-width:767px){ .floating-cart{ right:14px; bottom:14px; } }

  </style>
</head>
<body>
 
  <!-- Top promo bar -->
  <div class="topbar text-center">
    <div class="container d-flex justify-content-between align-items-center">
      <div>Mix any TWO Fragrances, and Create your own scent for only <strong>R350</strong></div>
      <div>50% deposit on all orders</div>
    </div>
  </div>

<!-- Navbar -->
   
  <nav class="navbar navbar-expand-lg navbar-dark bg-black shadow-sm sticky-top">
    <div class="container">
      <a class="navbar-brand" href="#">Luke's Emporium</a>
<a class="navbar-brand" href="#">
      <img src="images/luke logo.jpg" alt="Luke's Emporium Logo" height="200
      ">
    </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMain">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navMain">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item"><a class="nav-link" href="#">Home</a></li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="catDrop" role="button" data-bs-toggle="dropdown">Categories</a>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="#" data-cat="dubai"> Dubai Perfumes</a></li>
              <li><a class="dropdown-item" href="#" data-cat="topg"> Top G Perfumes</a></li>
              <li><a class="dropdown-item" href="#" data-cat="ladies"> Ladies Perfumes</a></li>
              <li><a class="dropdown-item" href="#" data-cat="men"> Mens Perfumes</a></li>
              <li><a class="dropdown-item" href="#" data-cat="polaroids">Polaroids</a></li>
              <li><a class="dropdown-item" href="#" data-cat="gadgets">Phone Accesories</a></li>
             
            </ul>
          </li>
          <li class="nav-item"><a class="nav-link" href="#bestsellers">Bestsellers</a></li>
          
        </ul>

        <form id="searchForm" class="d-flex me-3" role="search">
          <input id="searchInput" class="form-control me-2" type="search" placeholder="Search products" aria-label="Search">
          <button class="btn btn-outline-secondary" type="submit">Search</button>
        </form>

        <div class="d-flex align-items-center">
          </div>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
<section class="hero position-relative text-white">

  <!-- Carousel Background -->
  <div id="heroCarousel" class="carousel slide carousel-fade" data-bs-ride="carousel">
    <div class="carousel-inner">

      <!-- Slide 1: Perfumes -->
      <div class="carousel-item active" 
           style="background: url('images/hero-bg.jpg.jpg') center/cover no-repeat; min-height: 80vh;">
        <div class="overlay bg-dark bg-opacity-50 w-100 h-100"></div>
      </div>

      <!-- Slide 2: Gadgets -->
      <div class="carousel-item" 
           style="background: url('images/hero2.jpg') center/cover no-repeat; min-height: 80vh;">
        <div class="overlay bg-dark bg-opacity-50 w-100 h-100"></div>
      </div>

    </div>
  </div>
  
  <!-- Product Deals Carousel -->
<section class="product-deals py-5 text-white position-relative"
         style="background: url('images/sale1.jpg') center/cover no-repeat;">

  <!-- Overlay for readability -->
  <div class="overlay bg-dark bg-opacity-50 position-absolute top-0 start-0 w-100 h-100"></div>

  <div class="container position-relative" style="z-index: 1;">
    <h2 class="text-center mb-4 fw-bold text-gold">ðŸ”¥ Featured Deals</h2>
    
    <div id="dealCarousel" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-inner">

        <!-- Slide 1 -->
        <div class="carousel-item active">
          <div class="row justify-content-center">
            <div class="col-md-3 text-center">
              <img src="images/carousel1.jpg" class="d-block w-100 rounded shadow" alt="Sauvage Elixir perfume deal">
              <h6 class="mt-2">Sauvage Elixir â€” R350</h6>
            </div>
            <div class="col-md-3 text-center">
              <img src="images/carousel2.jpg" class="d-block w-100 rounded shadow" alt="Acqua di Gio perfume deal">
              <h6 class="mt-2">Acqua di Gio â€” R350</h6>
            </div>
            <div class="col-md-3 text-center">
              <img src="images/Chargers.jpg" class="d-block w-100 rounded shadow" alt="Invictus perfume deal">
              <h6 class="mt-2">Invictus â€” R350</h6>
            </div>
          </div>
        </div>

        <!-- Slide 2 -->
        <div class="carousel-item">
          <div class="row justify-content-center">
            <div class="col-md-3 text-center">
              <img src="images/hero2.jpg" class="d-block w-100 rounded shadow" alt="Wireless earbuds gadget deal">
              <h6 class="mt-2">Wireless Earbuds â€” R299</h6>
            </div>
            <div class="col-md-3 text-center">
              <img src="images/biltong.jpg" class="d-block w-100 rounded shadow" alt="Fast charger gadget deal">
              <h6 class="mt-2">Fast Charger â€” R199</h6>
            </div>
            <div class="col-md-3 text-center">
              <img src="images/90ml.jpg" class="d-block w-100 rounded shadow" alt="Bluetooth speaker gadget deal">
              <h6 class="mt-2">Bluetooth Speaker â€” R499</h6>
            </div>
          </div>
        </div>

      </div>

      <!-- Carousel Controls -->
      <button class="carousel-control-prev" type="button" data-bs-target="#dealCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon"></span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#dealCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon"></span>
      </button>
    </div>
  </div>
</section>

<!-- Custom Styles -->
<style>
  .product-deals {
    background-attachment: fixed; /* Parallax effect */
    background-size: cover;
  }
  .text-gold {
    color: #d4af37;
  }
</style>
<main class="container my-5" id="home">
  <div class="row">
    <div class="col-12 mb-4 text-center">
      <h1 class="display-5 fw-bold text-gold">Luke's Emporium â€” Shop</h1>
      <p class="text-muted">Premium fragrances â€¢ Trendy gadgets â€¢ Custom gifts</p>
    </div>
  </div>

  <div class="row" id="productGrid"></div>
</main>

<!-- Cart page (dedicated feel) -->
<section id="cartPage" class="container">
  <div class="row mb-3">
    <div class="col-12 d-flex justify-content-between align-items-center">
      <h2 class="h4 fw-bold">Your Cart</h2>
      <div>
        <button class="btn btn-outline-dark me-2" onclick="continueShopping()">Continue shopping</button>
        <button class="btn btn-sm btn-dark" onclick="clearCart(true)">Clear Cart</button>
      </div>
    </div>
  </div>

  <div class="row g-3">
    <div class="col-lg-8" id="cartItemsContainer">
      <!-- cart items injected here -->
    </div>
    <div class="col-lg-4">
      <div class="checkout-panel">
        <h5 class="fw-bold">Order Summary</h5>
        <div class="d-flex justify-content-between mt-2"><small>Subtotal</small><strong id="subtotal">R0</strong></div>
        <div class="d-flex justify-content-between mt-1"><small>Delivery fee</small><strong id="deliveryFee">R0</strong></div>
        <hr>
        <div class="d-flex justify-content-between"><strong>Total</strong><strong id="grandTotal">R0</strong></div>

        <hr>
        <form id="checkoutForm">
          <div class="mb-2">
            <label class="form-label small">Full name</label>
            <input required id="custName" class="form-control form-control-sm" placeholder="First and surname">
          </div>
          <div class="mb-2">
            <label class="form-label small">Address</label>
            <input required id="custAddress" class="form-control form-control-sm" placeholder="Street, suburb, city">
          </div>
          <div class="mb-2">
            <label class="form-label small">Pickup or Delivery</label>
            <select id="deliveryOption" class="form-select form-select-sm">
              <option value="pickup">Pickup (free)</option>
              <option value="delivery">Delivery (R50)</option>
            </select>
          </div>
          <div class="mb-2">
            <label class="form-label small">Notes (optional)</label>
            <textarea id="custNotes" class="form-control form-control-sm" rows="2" placeholder="Any extra instructions..."></textarea>
          </div>

          <button type="submit" class="btn btn-gold w-100 mt-2">Checkout via WhatsApp</button>
        </form>

      </div>
    </div>
  </div>
</section>

<!-- Floating cart button -->
<div class="floating-cart">
  <button class="cart-btn" id="floatingCartBtn" title="View cart" onclick="openCartPage()">
    <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" class="bi bi-cart" viewBox="0 0 16 16">
      <path d="M0 1.5A.5.5 0 0 1 .5 1h1a.5.5 0 0 1 .485.379L2.89 5H14.5a.5.5 0 0 1 .49.598l-1.5 6A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.49-.402L1.61 2H.5a.5.5 0 0 1-.5-.5z"/>
    </svg>
    <span class="badge bg-secondary cart-badge" id="cartCount">0</span>
  </button>
</div>
<script>
// ----------  
  // ---------------------------
  // Product dataset
  // ---------------------------
  const PRODUCTS = [

  // ---------------- Dubai Perfumes ----------------
  { id: 'd1', title: "Khamram 30ml", category:'dubai', price: 90, img:"images/100ml.jpg" },
  { id: 'd2', title: "Khamram 50ml", category:'dubai', price: 150, img:"images/100ml 2.jpg" },
  { id: 'd3', title: "Khamram 100ml", category:'dubai', price: 250, img:"images/100ml3.jpg" },

  { id: 'd4', title: "Khamrah Qahwe 30ml", category:'dubai', price: 90, img:"images/100ml4.jpg" },
  { id: 'd5', title: "Khamrah Qahwe 50ml", category:'dubai', price: 150, img:"images/100ml.jpg" },
  { id: 'd6', title: "Khamrah Qahwe 100ml", category:'dubai', price: 250, img:"images/100ml 2.jpg" },

  { id: 'd7', title: "Badee Al Oud 30ml", category:'dubai', price: 90, img:"images/100ml3.jpg" },
  { id: 'd8', title: "Badee Al Oud 50ml", category:'dubai', price: 150, img:"images/100ml4.jpg" },
  { id: 'd9', title: "Badee Al Oud 100ml", category:'dubai', price: 250, img:"images/100ml.jpg" },

  { id: 'd10', title: "Sublime 30ml", category:'dubai', price: 90, img:"images/100ml 2.jpg" },
  { id: 'd11', title: "Sublime 50ml", category:'dubai', price: 150, img:"images/100ml3.jpg" },
  { id: 'd12', title: "Sublime 100ml", category:'dubai', price: 250, img:"images/100ml4.jpg" },

  { id: 'd13', title: "Yar Pink 30ml", category:'dubai', price: 90, img:"images/100ml.jpg" },
  { id: 'd14', title: "Yar Pink 50ml", category:'dubai', price: 150, img:"images/100ml 2.jpg" },
  { id: 'd15', title: "Yar Pink 100ml", category:'dubai', price: 250, img:"images/100ml3.jpg" },

  { id: 'd16', title: "Royal Rasisi 30ml", category:'dubai', price: 90, img:"images/100ml4.jpg" },
  { id: 'd17', title: "Royal Rasisi 50ml", category:'dubai', price: 150, img:"images/100ml.jpg" },
  { id: 'd18', title: "Royal Rasisi 100ml", category:'dubai', price: 250, img:"images/100ml 2.jpg" },

  { id: 'd19', title: "Rasisi Hawas 30ml", category:'dubai', price: 90, img:"images/100ml4.jpg" },
  { id: 'd20', title: "Rasisi Hawas 50ml", category:'dubai', price: 150, img:"images/100ml3.jpg" },
  { id: 'd21', title: "Rasisi Hawas 100ml", category:'dubai', price: 250, img:"images/100ml.jpg" },

  { id: 'd22', title: "Mousouf Aswad 30ml", category:'dubai', price: 90, img:"images/100ml 2.jpg" },
  { id: 'd23', title: "Mousouf Aswad 50ml", category:'dubai', price: 150, img:"images/100ml4.jpg" },
  { id: 'd24', title: "Mousouf Aswad 100ml", category:'dubai', price: 250, img:"images/100ml3.jpg" },

  // ---------------- Top G Perfumes ----------------
  { id: 't1', title: "Adventus Creed 30ml", category:'topg', price: 90, img:"images/100ml4.jpg" },
  { id: 't2', title: "Adventus Creed 50ml", category:'topg', price: 150, img:"images/100ml 2.jpg" },
  { id: 't3', title: "Adventus Creed 100ml", category:'topg', price: 250, img:"images/100ml.jpg" },

  { id: 't4', title: "Creed Silver Mountain 30ml", category:'topg', price: 90, img:"images/100ml3.jpg" },
  { id: 't5', title: "Creed Silver Mountain 50ml", category:'topg', price: 150, img:"images/100ml4.jpg" },
  { id: 't6', title: "Creed Silver Mountain 100ml", category:'topg', price: 250, img:"images/100ml 2.jpg" },

  { id: 't7', title: "Barrakat Rouge 540 30ml", category:'topg', price: 90, img:"images/100ml.jpg" },
  { id: 't8', title: "Barrakat Rouge 540 50ml", category:'topg', price: 150, img:"images/100ml3.jpg" },
  { id: 't9', title: "Barrakat Rouge 540 100ml", category:'topg', price: 250, img:"images/100ml4.jpg" },

  { id: 't10', title: "Satin Oud 30ml", category:'topg', price: 90, img:"images/100ml 2.jpg" },
  { id: 't11', title: "Satin Oud 50ml", category:'topg', price: 150, img:"images/100ml4.jpg" },
  { id: 't12', title: "Satin Oud 100ml", category:'topg', price: 250, img:"images/100ml3.jpg" },

  { id: 't13', title: "Oud of Greatness 30ml", category:'topg', price: 90, img:"images/100ml.jpg" },
  { id: 't14', title: "Oud of Greatness 50ml", category:'topg', price: 150, img:"images/100ml4.jpg" },
  { id: 't15', title: "Oud of Greatness 100ml", category:'topg', price: 250, img:"images/100ml 2.jpg" },

  { id: 't16', title: "J P G Ultra Male 30ml", category:'topg', price: 90, img:"images/100ml3.jpg" },
  { id: 't17', title: "J P G Ultra Male 50ml", category:'topg', price: 150, img:"images/100ml4.jpg" },
  { id: 't18', title: "J P G Ultra Male 100ml", category:'topg', price: 250, img:"images/100ml 2.jpg" },

  // ---------------- Premium Ladies Perfumes ----------------
{ id: 'l1', title: "Far Away 30ml", category:'ladies', price: 90, img:"images/100ml.jpg" },
{ id: 'l2', title: "Far Away 50ml", category:'ladies', price: 150, img:"images/100ml4.jpg" },
{ id: 'l3', title: "Far Away 100ml", category:'ladies', price: 250, img:"images/100ml3.jpg" },

{ id: 'l4', title: "Hypnotic Poison 30ml", category:'ladies', price: 90, img:"images/100ml 2.jpg" },
{ id: 'l5', title: "Hypnotic Poison 50ml", category:'ladies', price: 150, img:"images/100ml4.jpg" },
{ id: 'l6', title: "Hypnotic Poison 100ml", category:'ladies', price: 250, img:"images/100ml3.jpg" },

{ id: 'l7', title: "Tommy Girl 30ml", category:'ladies', price: 90, img:"images/100ml.jpg" },
{ id: 'l8', title: "Tommy Girl 50ml", category:'ladies', price: 150, img:"images/100ml 2.jpg" },
{ id: 'l9', title: "Tommy Girl 100ml", category:'ladies', price: 250, img:"images/100ml4.jpg" },

{ id: 'l10', title: "La Veste Bella 30ml", category:'ladies', price: 90, img:"images/100ml.jpg" },
{ id: 'l11', title: "La Veste Bella 50ml", category:'ladies', price: 150, img:"images/100ml3.jpg" },
{ id: 'l12', title: "La Veste Bella 100ml", category:'ladies', price: 250, img:"images/100ml 2.jpgl" },

{ id: 'l13', title: "Alien 30ml", category:'ladies', price: 90, img:"images/100ml4.jpg" },
{ id: 'l14', title: "Alien 50ml", category:'ladies', price: 150, img:"images/100ml4.jpg" },
{ id: 'l15', title: "Alien 100ml", category:'ladies', price: 250, img:"images/100ml 2.jpg" },

{ id: 'l16', title: "Good Girl 30ml", category:'ladies', price: 90, img:"images/100ml3.jpg" },
{ id: 'l17', title: "Good Girl 50ml", category:'ladies', price: 150, img:"images/100ml.jpg" },
{ id: 'l18', title: "Good Girl 100ml", category:'ladies', price: 250, img:"images/100ml 2.jpg" },

{ id: 'l19', title: "Coco mademoiselle 30ml", category:'ladies', price: 90, img:"images/100ml3.jpg" },
{ id: 'l20', title: "Coco mademoiselle 50ml", category:'ladies', price: 150, img:"images/100ml.jpg" },
{ id: 'l21', title: "Coco mademoiselle 100ml", category:'ladies', price: 250, img:"images/100ml 2.jpg" },

{ id: 'l22', title: " Be delicious 30ml", category:'ladies', price: 90, img:"images/100ml3.jpg" },
{ id: 'l23', title: " Be delicious 50ml", category:'ladies', price: 150, img:"images/100ml.jpg" },
{ id: 'l24', title: " Be delicious 100ml", category:'ladies', price: 250, img:"images/100ml 2.jpg" },

{ id: 'l25', title: " Eros 30ml", category:'ladies', price: 90, img:"images/100ml3.jpg" },
{ id: 'l26', title: " Eros 50ml", category:'ladies', price: 150, img:"images/100ml.jpg" },
{ id: 'l27', title: " Eros 100ml", category:'ladies', price: 250, img:"images/100ml 2.jpg" },

{ id: 'l28', title: " Jimmy Choo 30ml", category:'ladies', price: 90, img:"images/100ml3.jpg" },
{ id: 'l29', title: " Jimmy Choo 50ml", category:'ladies', price: 150, img:"images/100ml.jpg" },
{ id: 'l30', title: " Jimmy Choo 100ml", category:'ladies', price: 250, img:"images/100ml 2.jpg" },

{ id: 'l31', title: " White Oud ladies 30ml", category:'ladies', price: 90, img:"images/100ml3.jpg" },
{ id: 'l32', title: " White Oud ladies 50ml", category:'ladies', price: 150, img:"images/100ml.jpg" },
{ id: 'l33', title: " White Oud ladies 100ml", category:'ladies', price: 250, img:"images/100ml 2.jpg" },

{ id: 'l34', title: " Black Opium 30ml", category:'ladies', price: 90, img:"images/100ml3.jpg" },
{ id: 'l35', title: " Black Opium 50ml", category:'ladies', price: 150, img:"images/100ml.jpg" },
{ id: 'l36', title: " Black Opium 100ml", category:'ladies', price: 250, img:"images/100ml 2.jpg" },
 
{ id: 'l37', title: " Issey Miyake ladies 30ml", category:'ladies', price: 90, img:"images/100ml3.jpg" },
{ id: 'l38', title: " Issey Miyake ladies 50ml", category:'ladies', price: 150, img:"images/100ml.jpg" },
{ id: 'l39', title: " Issey Mikaye ladies 100ml", category:'ladies', price: 250, img:"images/100ml 2.jpg" },
 
{ id: 'l40', title: " Fantasy 30ml", category:'ladies', price: 90, img:"images/100ml3.jpg" },
{ id: 'l41', title: " Fantasy 50ml", category:'ladies', price: 150, img:"images/100ml.jpg" },
{ id: 'l42', title: " Fantasy 100ml", category:'ladies', price: 250, img:"images/100ml 2.jpg" },
 
{ id: 'l43', title: " Chanel no5 30ml", category:'ladies', price: 90, img:"images/100ml3.jpg" },
{ id: 'l44', title: " Chanel no5 50ml", category:'ladies', price: 150, img:"images/100ml.jpg" },
{ id: 'l45', title: " Chanel no5 100ml", category:'ladies', price: 250, img:"images/100ml 2.jpg" },

{ id: 'l46', title: " Guccci Rush 30ml", category:'ladies', price: 90, img:"images/100ml3.jpg" },
{ id: 'l47', title: " Gucci Rush 50ml", category:'ladies', price: 150, img:"images/100ml.jpg" },
{ id: 'l48', title: " Gucci Rush 100ml", category:'ladies', price: 250, img:"images/100ml 2.jpg" },

{ id: 'l49', title: " Light Blue ladies 30ml", category:'ladies', price: 90, img:"images/100ml3.jpg" },
{ id: 'l50', title: " Light Blue ladies 50ml", category:'ladies', price: 150, img:"images/100ml.jpg" },
{ id: 'l51', title: " Light Blue ladies 100ml", category:'ladies', price: 250, img:"images/100ml 2.jpg" },

{ id: 'l52', title: " Tar Pink 30ml", category:'ladies', price: 90, img:"images/100ml3.jpg" },
{ id: 'l53', title: " Tar Pink 50ml", category:'ladies', price: 150, img:"images/100ml.jpg" },
{ id: 'l54', title: " Tar Pink 100ml", category:'ladies', price: 250, img:"images/100ml 2.jpg" },

{ id: 'l55', title: " Lady Love 30ml", category:'ladies', price: 90, img:"images/100ml3.jpg" },
{ id: 'l56', title: " Lady Love 50ml", category:'ladies', price: 150, img:"images/100ml.jpg" },
{ id: 'l57', title: " Lady Love 100ml", category:'ladies', price: 250, img:"images/100ml 2.jpg" },

{ id: 'l58', title: " Bombshell Victoria 30ml", category:'ladies', price: 90, img:"images/100ml3.jpg" },
{ id: 'l59', title: " Bombshell Victoria 50ml", category:'ladies', price: 150, img:"images/100ml.jpg" },
{ id: 'l60', title: " Bombshell Victoria 100ml", category:'ladies', price: 250, img:"images/100ml 2.jpg" },

{ id: 'l61', title: " Victoria Blue 30ml", category:'ladies', price: 90, img:"images/100ml3.jpg" },
{ id: 'l62', title: " Victoria Blue 50ml", category:'ladies', price: 150, img:"images/100ml.jpg" },
{ id: 'l63', title: " Victoria Blue 100ml", category:'ladies', price: 250, img:"images/100ml 2.jpg" },

{ id: 'l64', title: " Weedend 30ml", category:'ladies', price: 90, img:"images/100ml3.jpg" },
{ id: 'l65', title: " Weedend 50ml", category:'ladies', price: 150, img:"images/100ml.jpg" },
{ id: 'l66', title: " Weedend 100ml", category:'ladies', price: 250, img:"images/100ml 2.jpg" },

{ id: 'l67', title: " Tom Ford Sher 30ml", category:'ladies', price: 90, img:"images/100ml3.jpg" },
{ id: 'l68', title: " Tom Ford Sher 50ml", category:'ladies', price: 150, img:"images/100ml.jpg" },
{ id: 'l69', title: " Tom Ford Sher 100ml", category:'ladies', price: 250, img:"images/100ml 2.jpg" },

{ id: 'l70', title: " Sublime 30ml", category:'ladies', price: 90, img:"images/100ml3.jpg" },
{ id: 'l71', title: " Sublime 50ml", category:'ladies', price: 150, img:"images/100ml.jpg" },
{ id: 'l72', title: " Sublime 100ml", category:'ladies', price: 250, img:"images/100ml 2.jpg" },

{ id: 'l73', title: " Gucci Bloom 30ml", category:'ladies', price: 90, img:"images/100ml3.jpg" },
{ id: 'l74', title: " Gucci Bloom 50ml", category:'ladies', price: 150, img:"images/100ml.jpg" },
{ id: 'l75', title: " Gucci Bloom 100ml", category:'ladies', price: 250, img:"images/100ml 2.jpg" },


// ---------------- Premium Men Perfumes ----------------
{ id: 'm1', title: "Wanted 30ml", category:'men', price: 90, img:"images/100ml3.jpg" },
{ id: 'm2', title: "Wanted 50ml", category:'men', price: 150, img:"images/100ml3.jpg" },
{ id: 'm3', title: "Wanted 100ml", category:'men', price: 250, img:"images/100ml3.jpg" },

{ id: 'm4', title: "Cool Water 30ml", category:'men', price: 90, img:"images/100ml3.jpg" },
{ id: 'm5', title: "Cool Water 50ml", category:'men', price: 150, img:"images/100ml3.jpg" },
{ id: 'm6', title: "Cool Water 100ml", category:'men', price: 250, img:"images/100ml3.jpg" },

{ id: 'm7', title: "Sauvage Elixer 30ml", category:'men', price: 90, img:"images/100ml3.jpg" },
{ id: 'm8', title: "Sauvage Elixer 50ml", category:'men', price: 150, img:"images/100ml3.jpg" },
{ id: 'm9', title: "Sauvage Elixer 100ml", category:'men', price: 250, img:"images/100ml3.jpg" },

{ id: 'm10', title: "Acqua Di Gio 30ml", category:'men', price: 90, img:"images/100ml3.jpg" },
{ id: 'm11', title: "Acqua Di Gio 50ml", category:'men', price: 150, img:"images/100ml3.jpg" },
{ id: 'm12', title: "Acqua Di Gio 100ml", category:'men', price: 250, img:"images/100ml3.jpg" },

{ id: 'm13', title: "Profumo 30ml", category:'men', price: 90, img:"images/100ml3.jpg" },
{ id: 'm14', title: "Profumo 50ml", category:'men', price: 150, img:"images/100ml3.jpg" },
{ id: 'm15', title: "Profumo 100ml", category:'men', price: 250, img:"images/100ml3.jpg" },

{ id: 'm16', title: "Invictus Men 30ml", category:'men', price: 90, img:"images/100ml3.jpg" },
{ id: 'm17', title: "Invictus Men 50ml", category:'men', price: 150, img:"images/100ml3.jpg" },
{ id: 'm18', title: "Invictus Men 100ml", category:'men', price: 250, img:"images/100ml3.jpg" },

{ id: 'm19', title: "White Musk 30ml", category:'men', price: 90, img:"images/100ml3.jpg" },
{ id: 'm20', title: "White Musk 50ml", category:'men', price: 150, img:"images/100ml3.jpg" },
{ id: 'm21', title: "White Musk 100ml", category:'men', price: 250, img:"images/100ml3.jpg" },

{ id: 'm22', title: "Chanel Blue Men 30ml", category:'men', price: 90, img:"images/100ml3.jpg" },
{ id: 'm23', title: "Chanel Blue Men 50ml", category:'men', price: 150, img:"images/100ml3.jpg" },
{ id: 'm24', title: "Chanel Blue Men 100ml", category:'men', price: 250, img:"images/100ml3.jpg" },

{ id: 'm25', title: "Sauvage 30ml", category:'men', price: 90, img:"images/100ml3.jpg" },
{ id: 'm26', title: "Sauvage 50ml", category:'men', price: 150, img:"images/100ml3.jpg" },
{ id: 'm27', title: "Sauvage 100ml", category:'men', price: 250, img:"images/100ml3.jpg" },

{ id: 'm28', title: "Intense Oud 30ml", category:'men', price: 90, img:"images/100ml3.jpg" },
{ id: 'm29', title: "Intense Oud 50ml", category:'men', price: 150, img:"images/100ml3.jpg" },
{ id: 'm30', title: "Intense Oud 100ml", category:'men', price: 250, img:"images/100ml3.jpg" },

{ id: 'm31', title: "Spice Bomb Oud Wood 30ml", category:'men', price: 90, img:"images/100ml3.jpg" },
{ id: 'm32', title: "Spice Bomb Oud Wood 50ml", category:'men', price: 150, img:"images/100ml3.jpg" },
{ id: 'm33', title: "Spice Bomb Oud Wood 100ml", category:'men', price: 250, img:"images/100ml3.jpg" },

{ id: 'm34', title: "Boss Bottled Oud 30ml", category:'men', price: 90, img:"images/100ml3.jpg" },
{ id: 'm35', title: "Boss Bottled Oud 50ml", category:'men', price: 150, img:"images/100ml3.jpg" },
{ id: 'm36', title: "Boss Bottled Oud 100ml", category:'men', price: 250, img:"images/100ml3.jpg" },

{ id: 'm37', title: "Saffron 30ml", category:'men', price: 90, img:"images/100ml3.jpg" },
{ id: 'm38', title: "Saffron 50ml", category:'men', price: 150, img:"images/100ml3.jpg" },
{ id: 'm39', title: "Saffron 100ml", category:'men', price: 250, img:"images/100ml3.jpg" },

{ id: 'm40', title: "One Million 30ml", category:'men', price: 90, img:"images/100ml3.jpg" },
{ id: 'm41', title: "One Million 50ml", category:'men', price: 150, img:"images/100ml3.jpg" },
{ id: 'm42', title: "One Million 100ml", category:'men', price: 250, img:"images/100ml3.jpg" },

{ id: 'm43', title: "Armani Black Code 30ml", category:'men', price: 90, img:"images/100ml3.jpg" },
{ id: 'm44', title: "Armani Black Code 50ml", category:'men', price: 150, img:"images/100ml3.jpg" },
{ id: 'm45', title: "Armani Black Code 100ml", category:'men', price: 250, img:"images/100ml3.jpg" },

{ id: 'm46', title: "Boss Orange 30ml", category:'men', price: 90, img:"images/100ml3.jpg" },
{ id: 'm47', title: "Boss Orange 50ml", category:'men', price: 150, img:"images/100ml3.jpg" },
{ id: 'm48', title: "Boss Orange 100ml", category:'men', price: 250, img:"images/100ml3.jpg" },

{ id: 'm49', title: "Issey Miyake Men 30ml", category:'men', price: 90, img:"images/100ml3.jpg" },
{ id: 'm50', title: "Issey Miyake Men 50ml", category:'men', price: 150, img:"images/100ml3.jpg" },
{ id: 'm51', title: "Issey Miyake Men 100ml", category:'men', price: 250, img:"images/100ml3.jpg" },

{ id: 'm52', title: "Dolce Gabbana Men 30ml", category:'men', price: 90, img:"images/100ml3.jpg" },
{ id: 'm53', title: "Dolce Gabbana Men 50ml", category:'men', price: 150, img:"images/100ml3.jpg" },
{ id: 'm54', title: "Dolce Gabbana Men 100ml", category:'men', price: 250, img:"images/100ml3.jpg" },

{ id: 'm55', title: "Blue Men 30ml", category:'men', price: 90, img:"images/100ml3.jpg" },
{ id: 'm56', title: "Blue Men 50ml", category:'men', price: 150, img:"images/100ml3.jpg" },
{ id: 'm57', title: "Blue Men 100ml", category:'men', price: 250, img:"images/100ml3.jpg" },

{ id: 'm58', title: "Dunhill Desire Blue 30ml", category:'men', price: 90, img:"images/100ml3.jpg" },
{ id: 'm59', title: "Dunhill Desire Blue 50ml", category:'men', price: 150, img:"images/100ml3.jpg" },
{ id: 'm60', title: "Dunhill Desire Blue 100ml", category:'men', price: 250, img:"images/100ml3.jpg" },

{ id: 'm61', title: "Gucci Guilty 30ml", category:'men', price: 90, img:"images/100ml3.jpg" },
{ id: 'm62', title: "Gucci Guilty 50ml", category:'men', price: 150, img:"images/100ml3.jpg" },
{ id: 'm63', title: "Gucci Guilty 100ml", category:'men', price: 250, img:"images/100ml3.jpg" },

{ id: 'm64', title: "Givenchy Blue 30ml", category:'men', price: 90, img:"images/100ml3.jpg" },
{ id: 'm65', title: "Givenchy Blue 50ml", category:'men', price: 150, img:"images/100ml3.jpg" },
{ id: 'm66', title: "Givenchy Blue 100ml", category:'men', price: 250, img:"images/100ml3.jpg" },

{ id: 'm67', title: "Boss Energize 30ml", category:'men', price: 90, img:"images/100ml3.jpg" },
{ id: 'm68', title: "Boss Energize 50ml", category:'men', price: 150, img:"images/100ml3.jpg" },
{ id: 'm69', title: "Boss Energize 100ml", category:'men', price: 250, img:"images/100ml3.jpg" },

{ id: 'm70', title: "Lacoste White 30ml", category:'men', price: 90, img:"images/100ml3.jpg" },
{ id: 'm71', title: "Lacoste White 50ml", category:'men', price: 150, img:"images/100ml3.jpg" },
{ id: 'm72', title: "Lacoste White 100ml", category:'men', price: 250, img:"images/100ml3.jpg" },

{ id: 'm73', title: "Versace Dylan Blue 30ml", category:'men', price: 90, img:"images/100ml3.jpg" },
{ id: 'm74', title: "Versace Dylan Blue 50ml", category:'men', price: 150, img:"images/100ml3.jpg" },
{ id: 'm75', title: "Versace Dylan Blue 100ml", category:'men', price: 250, img:"images/100ml3.jpg" },

{ id: 'm76', title: "Stronger With You 30ml", category:'men', price: 90, img:"images/100ml3.jpg" },
{ id: 'm77', title: "Stronger With You  50ml", category:'men', price: 150, img:"images/100ml3.jpg" },
{ id: 'm78', title: "Stronger With You  100ml", category:'men', price: 250, img:"images/100ml3.jpg" },


// ---------------- Gadgets ----------------
{ id: 'g1', title: "Charging Cable  (cp-cp)", category:'gadgets', price: 150, img:"images/" },
{ id: 'g2', title: "Charging Cable (cp-usb)", category:'gadgets', price: 150, img:"images/100ml3.jpg" },
{ id: 'g3', title: "Charging Cable (I-Phone)", category:'gadgets', price: 150, img:"images/100ml3.jpg" },

{ id: 'g4', title: "Adapter (cp-cp)", category:'gadgets', price: 150, img:"images/100ml3.jpg" },
{ id: 'g5', title: "Adapter (cp-usb)", category:'gadgets', price: 150, img:"images/100ml3.jpg" },
{ id: 'g6', title: "Adapter (I-Phone)", category:'gadgets', price: 150, img:"images/100ml3.jpg" },


{ id: 'g7', title: "Screen Protector", category: 'gadgets', price: 100, img:"images/100ml3.jpg"},
{ id: 'g8', title: "Privacy Screen Protector", category: 'gadgets', price: 100, img:"images/100ml3.jpg"},
{ id: 'g9', title: "Tempered Glass Screen Protector", category: 'gadgets', price: 100, img:"images/100ml3.jpg"},

{ id: 'g10', title: "Flip Phone Cover", category: 'gadgets', price: 150, img:"images/100ml3.jpg"},
{ id: 'g11', title: "Silicone Phone Case", category: 'gadgets', price: 100, img:"images/100ml3.jpg"},
{ id: 'g12', title: "Clear Phone Case", category: 'gadgets', price: 100, img:"images/100ml3.jpg"},

{ id: 'g13', title: "Wireless Hairclipper", category: 'gadgets', price: 190, img:"images/100ml3.jpg"},
{ id: 'g14', title: "Polaroids (50)", category: 'polaroids', price: 250, img:"images/100ml3.jpg"},
{ id: 'g13', title: "Polaroids (5)", category: 'polaroids', price: 35, img:"images/100ml3.jpg"},
{ id: 'g14', title: "Polaroids (10)", category: 'polaroids', price: 65, img:"images/100ml3.jpg"},
{ id: 'g15', title: "Polaroids (20)", category: 'polaroids', price: 105, img:"images/100ml3.jpg"},
];

// ---------------------------
// Cart state
// ---------------------------
let cart = JSON.parse(localStorage.getItem('lukes_cart_v1') || '[]');
const DELIVERY_FEE = 50; // R50
const WA_NUMBER = '27728371381'; // use this number for wa.me (no +)

// ---------------------------
// Helpers
// ---------------------------
function saveCart(){ localStorage.setItem('lukes_cart_v1', JSON.stringify(cart)); updateCartBadge(); }
function updateCartBadge(){ const count = cart.reduce((s,i)=>s+i.qty,0); document.getElementById('cartCount').textContent = count; }
function findProduct(id){ return PRODUCTS.find(p=>p.id===id); }

// ---------------------------
// Render product grid
// ---------------------------
const productGrid = document.getElementById('productGrid');
function displayProducts(){ productGrid.innerHTML=''; PRODUCTS.forEach(p=>{
  const col = document.createElement('div'); col.className='col-6 col-md-4 col-lg-3 mb-4';
  col.innerHTML = `
    <div class="product-card text-center h-100 p-2">
      <img src="${p.img}" alt="${p.title}" class="img-fluid mb-2">
      <h6 class="mb-1">${p.title}</h6>
      <div class="price mb-2 text-gold fw-bold">R${p.price}</div>
      <button class="btn btn-sm btn-dark" onclick="addToCart('${p.id}')">Add to Cart</button>
    </div>
  `;
  productGrid.appendChild(col);
}); }

// ---------------------------
// Cart manipulation
// ---------------------------
function addToCart(id){ const prod = findProduct(id); if(!prod) return; const existing = cart.find(i=>i.id===id);
  if(existing) existing.qty += 1; else cart.push({ id: id, qty: 1 });
  saveCart(); showToast(`${prod.title} added to cart`); }

function removeFromCart(id){ cart = cart.filter(i=>i.id!==id); saveCart(); renderCartItems(); }

function changeQty(id, delta){ const item = cart.find(i=>i.id===id); if(!item) return; item.qty += delta; if(item.qty<1) item.qty = 1; saveCart(); renderCartItems(); }

function clearCart(confirmFirst=false){ if(confirmFirst && !confirm('Clear all items from cart?')) return; cart=[]; saveCart(); renderCartItems(); }

// ---------------------------
// Cart page UI
// ---------------------------
function renderCartItems(){ const container = document.getElementById('cartItemsContainer'); container.innerHTML='';
  if(cart.length===0){ container.innerHTML = '<p class="text-muted">Your cart is empty. Add some beautiful scents âœ¨</p>'; updateTotals(); return; }
  cart.forEach(ci=>{
    const p = findProduct(ci.id);
    const div = document.createElement('div'); div.className='cart-item mb-3 d-flex gap-3 align-items-center';
    div.innerHTML = `
      <img src="${p.img}" alt="${p.title}">
      <div class="flex-grow-1">
        <div class="d-flex justify-content-between align-items-start">
          <div>
            <h6 class="mb-1">${p.title}</h6>
            <div class="text-muted small">R${p.price}</div>
          </div>
          <div class="text-end">
            <div class="mb-2">R${(p.price*ci.qty).toFixed(2)}</div>
            <button class="btn btn-sm btn-outline-danger" onclick="removeFromCart('${ci.id}')">Remove</button>
          </div>
        </div>
        <div class="mt-2">
          <div class="btn-group btn-group-sm" role="group">
            <button class="btn btn-outline-secondary" onclick="changeQty('${ci.id}', -1)">âˆ’</button>
            <button class="btn btn-sm btn-light" disabled>${ci.qty}</button>
            <button class="btn btn-outline-secondary" onclick="changeQty('${ci.id}', 1)">+</button>
          </div>
        </div>
      </div>
    `;
    container.appendChild(div);
  });
  updateTotals();
}

function updateTotals(){ const subtotal = cart.reduce((s,i)=>{ const p=findProduct(i.id); return s + (p.price*i.qty); },0);
  const deliveryOpt = document.getElementById('deliveryOption')?.value || 'pickup';
  const delivery = (deliveryOpt === 'delivery' && cart.length>0) ? DELIVERY_FEE : 0;
  document.getElementById('subtotal').textContent = `R${subtotal.toFixed(2)}`;
  document.getElementById('deliveryFee').textContent = `R${delivery}`;
  document.getElementById('grandTotal').textContent = `R${(subtotal+delivery).toFixed(2)}`;
}

// ---------------------------
// Page navigation
// ---------------------------
function openCartPage(){ document.getElementById('home').style.display='none'; document.getElementById('cartPage').style.display='block'; renderCartItems(); }
function continueShopping(){ document.getElementById('cartPage').style.display='none'; document.getElementById('home').style.display='block'; }
function showHome(){ continueShopping(); }

// ---------------------------
// Toast (simple)
// ---------------------------
function showToast(msg){ const el = document.createElement('div'); el.className='toast align-items-center text-white bg-dark border-0 p-2'; el.style.position='fixed'; el.style.right='20px'; el.style.bottom='100px'; el.style.zIndex=1200; el.innerHTML = `<div class="d-flex"><div class="toast-body small">${msg}</div><button class='btn-close btn-close-white ms-2 me-1' onclick='this.parentElement.parentElement.remove()'></button></div>`; document.body.appendChild(el); setTimeout(()=>el.remove(), 2200); }

// ---------------------------
// Order number generation
// ---------------------------
function generateOrderRef(){ const today = new Date(); const y = today.getFullYear(); const m = String(today.getMonth()+1).padStart(2,'0'); const d = String(today.getDate()).padStart(2,'0');
  const key = `lukes_ord_${y}${m}${d}`;
  let counter = parseInt(localStorage.getItem(key) || '0') + 1; localStorage.setItem(key, String(counter));
  return `LUKES-${y}${m}${d}-${String(counter).padStart(3,'0')}`; }

// ---------------------------
// Checkout (WhatsApp)
// ---------------------------
document.getElementById('checkoutForm').addEventListener('submit', function(e){ e.preventDefault(); if(cart.length===0){ alert('Your cart is empty.'); return; }
  const name = document.getElementById('custName').value.trim();
  const address = document.getElementById('custAddress').value.trim();
  const option = document.getElementById('deliveryOption').value;
  const notes = document.getElementById('custNotes').value.trim();
  const ref = generateOrderRef();

  // build items list
  let itemsTxt = '';
  let subtotal = 0;
  cart.forEach(i=>{ const p = findProduct(i.id); itemsTxt += `â€¢ ${p.title} â€” R${p.price} x${i.qty} = R${(p.price*i.qty)}\n`; subtotal += p.price*i.qty; });
  const delivery = (option==='delivery') ? DELIVERY_FEE : 0;
  const total = subtotal + delivery;

  let msg = `Hello Luke's Emporium ðŸ‘‹%0A`;
  msg += `I would like to place an order.%0A`;
  msg += `Order No: ${ref}%0A`;
  msg += `Name: ${encodeURIComponent(name)}%0A`;
  msg += `Address: ${encodeURIComponent(address)}%0A`;
  msg += `Delivery option: ${option}%0A%0A`;
  msg += `Items:%0A`;
  // append items (already encoded partly)
  msg += encodeURIComponent(itemsTxt) + `%0A`;
  msg += `Subtotal: R${subtotal}%0A`;
  msg += `Delivery: R${delivery}%0A`;
  msg += `Total: R${total}%0A%0A`;
  if(notes) msg += `Notes: ${encodeURIComponent(notes)}%0A%0A`;
  msg += `Please confirm payment instructions. Thank you!`;

  // open WhatsApp
  const waUrl = `https://wa.me/${WA_NUMBER}?text=${msg}`;
  window.open(waUrl, '_blank');

  // optionally keep order record locally
  const lastOrders = JSON.parse(localStorage.getItem('lukes_orders_v1')||'[]');
  lastOrders.push({ ref, name, address, option, items: cart.slice(), subtotal, delivery, total, notes, date: new Date().toISOString() });
  localStorage.setItem('lukes_orders_v1', JSON.stringify(lastOrders));

  // clear cart and update UI
  cart = []; saveCart(); renderCartItems(); continueShopping(); alert('WhatsApp opened with your order â€” please send the message to complete checkout.');
});

// initialize
updateCartBadge(); displayProducts();

// rerun totals when delivery option changes while on cart page
const deliverySelect = document.getElementById('deliveryOption'); if(deliverySelect) deliverySelect.addEventListener('change', updateTotals);

</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
